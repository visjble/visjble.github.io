<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">   
        <meta name="viewport" content="width=device-width" , initial-scale="3.0">
        <title>ŒúŒïŒõŒïŒ§ŒóŒúŒëŒ§Œë</title>
    <!--================STYLE=========================-->
    <style>
      html , body { font-family: Times New Roman , serif; font-size: 20px;}
      #guess_field {
    margin-top: 10px;
}
    </style>
    <!--================/STYLE=========================-->
    </head>
      <body onload="setRandomPastelColor()">
      <center><br>
        <div id="header">
        <h3 style="margin-bottom:15px; margin-top:0;">VI</h3>
        </div>
        <p id="easter" onclick="nuntium(words2guess);" style="color:blue;font-size:1px;" >.</p>
        <table
               <td>
                        ·Ω¶<input type="radio" id="5" onclick="macronRadial(id);">
                        œâ<input type="radio" id="6" onclick="macronRadial(id);" checked>
                        </td>
          <tr>
            <th>I</th>
            <th>II</th>
            <th>III</th>
            <th>IV</th>
            <th>V</th>
          </tr>
          <tr>
            <td><input type="radio" id="0" onclick="commutoCapitulum(this);" checked=true></td>
            <td><input type="radio" id="1" onclick="commutoCapitulum(this);"></td>
            <td><input type="radio" id="2" onclick="commutoCapitulum(this);"></td>
            <td><input type="radio" id="3" onclick="commutoCapitulum(this);"></td>
            <td><input type="radio" id="4" onclick="commutoCapitulum(this);"></td>
          </tr>
        </table>

        <div id="more_to_go" style="margin-bottom: 10px;"></div>
        <b><div id="locutio">Done , try a different exercise></div>        
        </b>
      <table>
            <tbody>
                  <tr>                       
                        <input type="text" 
       autocomplete="off" 
       id="guess_field" 
       placeholder="·ºàœÄœåŒ∫œÅŒπœÉŒπœÇ" 
       onkeydown="matchFunc(event)"
       oninput="removeDiacritics(event)"
       style="font-size:18px; font-family: 'Times New Roman', serif; display: inline-block;">                        </td>
                        <td><div id='score'>0</div></td>
                  </tr>
            </tbody>
      </table>

        <div id="response" style="margin-bottom: 10px";></div>
        <div id="correct_answer"></div>

        <div id='final_score' style="color:blue;font-size:50px;"></div>
      </center>


      <!--===========SCRIPT STARTS=========================-->
      <script>
        function removeDiacritics(event) {
    if (document.getElementById('6').checked) {
        let input = event.target;
        let cursorPosition = input.selectionStart;
        input.value = abstrahoMacron(input.value);
        input.setSelectionRange(cursorPosition, cursorPosition);
    }
}
         function setRandomPastelColor() {
      // Generate random pastel color
      const hue = Math.floor(Math.random() * 360);
      const saturation = Math.floor(Math.random() * 25) + 75; // 75-100%
      const lightness = Math.floor(Math.random() * 25) + 75; // 75-100%
      const color = `hsl(${hue}, ${saturation}%, ${lightness}%)`;

      // Set body background color to random pastel color
      document.body.style.backgroundColor = color;
         }
         function nuntium(words2guess){
          document.getElementById('response').innerHTML = 'The answer is: ' + words2guess;
      }
        document.getElementById("guess_field").focus(); //poni sagitta intra campus
             
        var locutionis = [
            "ŒöœÅŒÆœÑŒ∑ ŒΩŒ±#·ø¶œÇ ·ºêœÉœÑŒπŒΩ¬∑ ŒúŒØŒΩœâœÇ Œ±·ΩêœÑ·øÜœÇ #Œ≤Œ±œÉŒπŒªŒµœçœÇ ·ºêœÉœÑŒπŒΩ.",
            "·ºòŒΩ œÑ·ø∑ œÑ·øÜœÇ ŒöœÅŒÆœÑŒ∑œÇ ŒªŒ±Œ≤œÖœÅŒØŒΩ#Œ∏·ø≥ Œø·º∞Œ∫Œµ·øñ ·ΩÅ ŒúŒπŒΩœéœÑŒ±œÖœÅŒøœÇ, Œ∏Œ∑œÅŒØŒøŒΩ Œ¥ŒµŒπŒΩœåŒΩ.",
            "·Ωâ ŒúŒπŒΩœéœÑŒ±œÖœÅŒøœÇ #œÑŒ±·ø¶œÅŒøœÇ ·ºêœÉœÑŒπŒΩ, ·ºÄŒªŒª'Œø·Ωêœá ·ΩÖŒªŒøœÇ¬∑ œÑ·Ω∏ Œ≥·Ω∞œÅ ·º•#ŒºŒπœÉœÖ ·ºÑŒΩŒ∏œÅœâœÄœåœÇ ·ºêœÉœÑŒπŒΩ.",
            "·Ωâ Œë·º∞Œ≥ŒµœçœÇ #Œ≤Œ±œÉŒπŒªŒµ·øñ (=Œ≤Œ±œÉŒπŒªŒµœçœÇ ·ºêœÉœÑŒπŒΩ) ·ºêŒΩ œÑŒ±·øñœÇ ·ºàŒ∏ŒÆŒΩŒ±#ŒπœÇ .",
            "·Ωâ ŒúŒØŒΩœâœÇ œÑ·Ω∏ŒΩ Œë·º∞Œ≥Œ≠Œ± œÄŒ±œÅŒ≠œáŒµŒπŒΩ Œ≤ŒøœçŒªŒµœÑŒ±Œπ #·ºëœÄœÑŒ¨ (=7) ŒΩŒµŒ±ŒΩŒØŒ±œÇ Œ∫Œ±·Ω∂ #·ºëœÄœÑŒ¨ (=7) #œÄŒ±œÅŒ∏Œ≠ŒΩŒøœÖœÇ (=Œ∫œåœÅŒ±œÇ).",
            "·Ωâ Œë·º∞Œ≥ŒµœçœÇ œÑ·ø∑ ŒúŒπŒΩœâœÑŒ±œçœÅ·ø≥ #œÄŒ≠ŒºœÄŒµŒπ œÑŒø·Ω∫œÇ ŒΩŒµŒ±ŒΩŒØŒ±œÇ Œ∫Œ±·Ω∂ œÑ·Ω∞œÇ œÄŒ±œÅŒ∏Œ≠ŒΩŒøœÖœÇ Œ∫Œ±œÑ' #·ºîœÑŒøœÇ .",
            "·Ωâ ŒòŒ∑œÉŒµœçœÇ ·ºêœÄŒµ·Ω∂ #·ºîœÜŒ∑Œ≤ŒøœÇ (=œÄŒ±·øñœÇ ·º§Œ¥Œ∑ Œø·ΩêŒ∫ ·ºîœÉœÑŒπŒΩ) Œµ·º∞œÇ ŒöœÅŒÆœÑŒ∑ŒΩ ·º∞Œ≠ŒΩŒ±Œπ #Œ≤ŒøœçŒªŒµœÑŒ±Œπ (=·ºêŒ∏Œ≠ŒªŒµŒπ).",
            "·Ωâ ŒΩŒµŒ±ŒΩŒØŒ±œÇ Œ≤ŒøœçŒªŒµœÑŒ±Œπ œÑ·Ω∏ŒΩ ŒúŒπŒΩœéœÑŒ±œÖœÅŒøŒΩ Œø·ΩêŒ∫Œ≠œÑŒπ œÑŒø·Ω∫œÇ #·ºëœÑŒ±ŒØœÅŒøœÖœÇ (=œÜŒØŒªŒøœÖœÇ) ·ºêœÉŒ∏ŒØŒµŒπŒΩ¬∑",
            "Œ≤ŒøœçŒªŒµœÑŒ±Œπ Œø·ΩñŒΩ #Œ≤ŒøŒ∑Œ∏Œµ·øñŒΩ (=œÉœÖŒªŒªŒ±ŒºŒ≤Œ¨ŒΩŒµŒπŒΩ) Œ±·ΩêœÑŒø·øñœÇ.",
            "Œ§·ø∑ Œø·ΩñŒΩ Œë·º∞Œ≥Œµ·øñ ŒªŒ≠Œ≥ŒµŒπ¬∑ \"#œÄŒ¨œÄœÄŒ± œÜŒØŒªŒµ, Œ≤ŒøœçŒªŒøŒºŒ±Œπ #œÄŒªŒµ·øñŒΩ (=œÄŒªŒøŒØ·ø≥ ·º∞Œ≠ŒΩŒ±Œπ) œÄœÅ·Ω∏œÇ œÑ·Ω¥ŒΩ ŒöœÅŒÆœÑŒ∑ŒΩ¬∑ ",
            "#Œø·º∞Œ∫œÑŒØœÅœâ Œ≥·Ω∞œÅ œÑŒø·Ω∫œÇ ·ºëœÑŒ±ŒØœÅŒøœÖœÇ.",
            "·Ωâ Œë·º∞Œ≥ŒµœçœÇ ŒºŒ¨ŒªŒπœÉœÑŒ± #œÜŒøŒ≤Œµ·øñœÑŒ±Œπ (=œÜœåŒ≤ŒøŒΩ ·ºîœáŒµŒπ), œÑŒ≠ŒªŒøœÇ Œ¥·Ω≤ œÄŒ≠ŒºœÄŒµŒπ œÑ·Ω∏ŒΩ œÖ·º±œåŒΩ, Œ±·ΩêœÑ·ø∑ Œ≥·Ω∞œÅ #œÄŒµŒØŒ∏ŒµœÑŒ±Œπ .",
            "·ºàŒªŒªŒ¨, #·ºêœÄŒµ·Ω∂ #œÄœÅ·ø∂œÑŒøŒΩ (=·ΩÖœÑŒµ... Œ±·ΩêœÑŒØŒ∫Œ±) ·ΩÅ ŒòŒ∑œÉŒµ·Ω∫œÇ #·ºÄœÜŒπŒ∫ŒΩŒµ·øñœÑŒ±Œπ Œµ·º∞œÇ ŒöœÅŒÆœÑŒ∑ŒΩ Œ∫Œ±·Ω∂ ·ºêŒ∫Œ≤Œ±ŒØŒΩŒµŒπ ·ºêŒ∫ œÑ·øÜœÇ #ŒΩŒµœéœÇ",
            "·ΩÅ Œ≤Œ±œÉŒπŒªŒµ·Ω∫œÇ Œ∫Œ±·Ω∂ ·º° #Œ≤Œ±œÉŒØŒªŒµŒπŒ± Œ±·ΩêœÑ·Ω∏ŒΩ #Œ¥Œ≠œáŒøŒΩœÑŒ±Œπ .",
            "Œü·º± Œ¥Œø·ø¶ŒªŒøŒπ ·ºÑŒ≥ŒøœÖœÉŒπ œÑ·Ω∏ŒΩ ŒòŒ∑œÉŒ≠Œ± Œµ·º∞œÇ œÑ·Ω¥ŒΩ œÑŒø·ø¶ ŒúŒØŒΩœâŒøœÇ #œÄœåŒªŒπŒΩ (=Œµ·º∞œÇ œÑ·Ω∏ ... ·ºÑœÉœÑœÖ) Œ∫Œ±·Ω∂ ·ºêŒΩ œÑ·ø∑ Œ¥ŒµœÉŒºœâœÑ#Œ∑œÅŒØ·ø≥ œÜœÖŒªŒ¨œÑœÑŒøœÖœÉŒπŒΩ.",
            "Œ§·Ω¥ŒΩ œÑŒø·ø¶ ŒúŒØŒΩœâŒøœÇ œÄœåŒªŒπŒΩ ·ΩÄŒΩŒøŒºŒ¨Œ∂Œø#œÖœÉŒπŒΩ ŒöŒΩœâ#œÉœÉœåŒΩ .",
            "·º© Œ¥'·ºàœÅŒπŒ¨Œ¥ŒΩŒ∑, ·ºêœÄŒµ·Ω∂ ·ΩÅœÅ·æ∑ œÑ·Ω∏ŒΩ ŒΩŒµŒ±ŒΩŒØŒ±ŒΩ, #·ºêœÅ·æ∑ Œ±·ΩêœÑŒø·ø¶, Œ∫Œ±·Ω∂ Œ≤ŒøœçŒªŒµœÑŒ±Œπ #œÉ·ø¥Œ∂ŒµŒπŒΩ Œ±·ΩêœÑœåŒΩ.",
            "·ΩçœÑŒµ #ŒΩœçŒæ Œ≥ŒØŒ≥ŒΩŒµœÑŒ±Œπ, ·º° ·ºàœÅŒπŒ¨Œ¥ŒΩŒ∑ œÑ·ø∑ ŒòŒ∑œÉŒµ·øñ œÄŒ±œÅŒ≠œáŒµŒπ œÑ·Ω∏ #ŒæŒØœÜŒøœÇ Œ∫Œ±·Ω∂ œÑ·Ω∏ #ŒªŒØŒΩŒøŒΩ , ·ºîœÄŒµŒπœÑŒ± œÄœÅ·Ω∏œÇ œÑ·Ω¥ŒΩ ŒΩŒ±·ø¶ŒΩ #·ºÄœÄŒ≠œÅœáŒµœÑŒ±Œπ (=·ºÄœÄŒøŒ≤Œ±ŒØŒΩŒµŒπ).",
            "·º¨Œ¥Œ∑ ŒΩ·Ω∫Œæ #Œ≥ŒØŒ≥ŒΩŒµœÑŒ±Œπ , Œ∫Œ±·Ω∂ ·ΩÅ ŒòŒ∑œÉŒµ·Ω∫œÇ œÑ·Ω¥ŒΩ #·º°ŒºŒ≠œÅŒ±ŒΩ (‚ÜîŒΩœçŒæ) ŒºŒ≠ŒΩŒµŒπ.",
            "·ºòœÄŒµ·Ω∂ ·ΩÅ ŒòŒ∑œÉŒµ·Ω∫œÇ #Œµ·º∞œÉŒ≠œÅœáŒµœÑŒ±Œπ Œµ·º∞œÇ œÑ·Ω∏ŒΩ ŒªŒ±Œ≤œçœÅŒπŒΩŒ∏ŒøŒΩ, Œø·º± Œ¥Œø·ø¶ŒªŒøŒπ #Œ∫ŒªŒµŒØŒøœÖœÉŒπŒΩ œÑ·Ω∞œÇ œÄœçŒªŒ±œÇ Œ∫Œ±·Ω∂ #·ºÄœÄŒ≠œÅœáŒøŒΩœÑŒ±Œπ .",
            "Œü·º± ·ºëœÑŒ±·øñœÅŒøŒπ œÑ·ø∑ ŒòŒ∑œÉŒµ·øñ #·ºïœÄŒøŒΩœÑŒ±Œπ , ·ºÄŒªŒª·Ω∞ ŒºŒ¨ŒªŒ± #œÜŒøŒ≤Œø·ø¶ŒΩœÑŒ±Œπ .",
            "·Ωâ ŒòŒ∑œÉŒµ·Ω∫œÇ Œ±·ΩêœÑŒø·øñœÇ ·ºÄŒΩŒ¥œÅŒµŒØœâœÇ #·º°Œ≥Œµ·øñœÑŒ±Œπ , Œ∫Œ±·Ω∂ ŒºŒ±Œ∫œÅ·Ω∞ŒΩ ·ΩÅŒ¥·Ω∏ŒΩ #œÄŒøœÅŒµœçŒµœÑŒ±Œπ ·ΩÅ ŒΩŒµŒ±ŒΩŒØŒ±œÇ.",
            "·Ωâ ŒòŒ∑œÉŒµœçœÇ¬∑ \"·ΩÆ ·ºëœÑŒ±·øñœÅŒøŒπ, ŒºŒ≠ŒΩŒµœÑŒµ Œ∫Œ±·Ω∂ #œÑœÅŒ≠œÄŒµœÉŒ∏Œµ¬∑ ·ºÜœÅŒ± Œø·ΩêŒ∫ #·ΩÄœÉœÜœÅŒ±ŒØŒΩŒµœÉŒ∏Œµ œÑ·Ω∏ œÑŒø·ø¶ ŒúŒπŒΩœâœÑŒ±œçœÅŒøœÖ œÄŒΩŒµ·ø¶ŒºŒ±;\"",
            "Œü·º± ·ºëœÑŒ±·øñœÅŒøŒπ¬∑ \"ŒùŒ±ŒØ, ·Ω¶ ŒòŒ∑œÉŒµ·ø¶, #·ΩÄœÉœÜœÅŒ±ŒπŒΩœåŒºŒµŒ∏Œ± œÑ·Ω∏ œÄŒΩŒµ·ø¶ŒºŒ± Œ±·ΩêœÑŒø·ø¶.\"",
            "·ºúœÄŒµŒπœÑŒ± Œ¥·Ω≤ Œø·º± ·ºëœÑŒ±·øñœÅŒøŒπ œÑ·Ω∏ Œ∏Œ∑œÅŒØŒøŒΩ #·ΩÅœÅŒº·ø∂œÉŒπŒΩ , Œ∫Œ±·Ω∂ #Œ≤Œø·ø∂œÉŒπŒΩ¬∑ ",
            "\"·ΩÆ ŒòŒ∑œÉŒµ·ø¶, ·ΩÅ ŒúŒπŒΩœéœÑŒ±œÖœÅŒøœÇ œÄŒ¨œÅŒµœÉœÑŒπŒΩ, Œ∫Œ±·Ω∂ ·ºêœÄ·Ω∂ œÉ·Ω≤ #·ΩÅœÅŒº·æ∑ (due possibilit√†: attivo e medio)¬∑ ·ºÄŒΩŒ¥œÅŒµŒØœâœÇ Œø·ΩñŒΩ #ŒºŒ¨œáŒøœÖ .\"",
            "·Ωâ Œ¥·Ω≤ ŒòŒ∑œÉŒµœçœÇ¬∑ \"Œú·Ω¥ #œÜŒøŒ≤Œµ·øñœÉŒ∏Œµ , ·Ω¶ ·ºëœÑŒ±·øñœÅŒøŒπ, ·ºÄŒªŒªŒ¨ ŒºŒøŒπ #·ºïœÄŒµœÉŒ∏Œµ .\"",
            "·ºòœÄ·Ω∂ Œø·ΩñŒΩ œÑ·Ω∏ Œ∏Œ∑œÅŒØŒøŒΩ #·ΩÅœÅŒº·æ∂œÑŒ±Œπ (due possibilit√†: attivo e medio) ·ΩÅ ŒΩŒµŒ±ŒΩŒØŒ±œÇ¬∑ œÑ·øá Œº·Ω≤ŒΩ ·ºÄœÅŒπœÉœÑŒµœÅ·æ∑ œÑ·øÜœÇ Œ∫ŒµœÜŒ±Œª·øÜœÇ Œ±·ΩêœÑŒø·ø¶ #ŒªŒ±ŒºŒ≤Œ¨ŒΩŒµœÑŒ±Œπ , œÑ·øá Œ¥·Ω≤ Œ¥ŒµŒæŒπ·æ∑ ·ºÄœÄŒøŒ∫œÑŒµŒØŒΩŒµŒπ Œ±·ΩêœÑœå.",
            "Œü·º± ·ºëœÑŒ±·øñœÅŒøŒπ¬∑ \"·ΩÆ ŒòŒ∑œÉŒµ·ø¶, Œµ·º∞ #Œ≤ŒøœçŒªŒµŒπœÇ (due terminazioni possibili) #·ºÄœÜŒπŒ∫ŒΩŒµ·øñœÉŒ∏Œ±Œπ Œµ·º∞œÇ œÑ·Ω∞œÇ œÄœçŒªŒ±œÇ, #·ºïœÄŒøœÖ œÑ·ø∑ ŒªŒØŒΩ·ø≥.\"",
            "Œ§·ø∑ Œø·ΩñŒΩ ŒªŒØŒΩ·ø≥ #·ºïœÄŒµœÑŒ±Œπ ·ΩÅ ŒòŒ∑œÉŒµœçœÇ, Œ∫Œ±·Ω∂ ·ºêŒ∫ œÑŒø·ø¶ ŒªŒ±Œ≤œÖœÅŒØŒΩŒ∏ŒøœÖ #·ºêŒæ-Œ≠œÅœáŒµœÑŒ±Œπ .",
            "Œ§·øá ·ΩëœÉœÑŒµœÅŒ±ŒØ·æ≥ #·ºîœÅœáŒµœÑŒ±Œπ (=Œ≤Œ±ŒØŒΩŒµŒπ) ·ΩÅ ŒúŒØŒΩœâœÇ, Œ∫Œ±·Ω∂ ·ºÑŒ≥ŒµŒπ œÑ·Ω∏ŒΩ ŒòŒ∑œÉŒ≠·æ± Œµ·º∞œÇ œÑ·Ω∏ŒΩ ŒªŒ±Œ≤œçœÅŒπŒΩŒ∏ŒøŒΩ.",
            "Œü·º± Œ¥Œø·ø¶ŒªŒøŒπ #·ºÄŒΩŒøŒØŒ≥ŒøœÖœÉŒπ œÑ·Ω∞œÇ #œÄœçŒªŒ±œÇ œÑ·Ω∞œÇ œÑŒø·ø¶ ŒªŒ±Œ≤œÖœÅŒØŒΩŒ∏ŒøœÖ Œ∫Œ±·Ω∂ Œµ·º∞œÉŒ≠œÅœáŒøŒΩœÑŒ±Œπ.",
            "·Ωâ ŒòŒ∑œÉŒµ·Ω∫œÇ Œµ·º∞œÉŒ≠œÅœáŒµœÑŒ±Œπ¬∑ ·ºîœÄŒµŒπœÑŒ± Œ¥·Ω≤ Œø·º± Œ¥Œø·ø¶ŒªŒøŒπ #Œ∫ŒªŒµŒØŒøœÖœÉŒπ œÑ·Ω∞œÇ œÄœçŒªŒ±œÇ Œ∫Œ±·Ω∂ ·ºÄœÄŒ≠œÅœáŒøŒΩœÑŒ±Œπ.",
            "·ºòŒΩ œÑ·ø∑ ŒªŒ±Œ≤œÖœÅŒØŒΩŒ∏·ø≥ œÄŒøŒª·Ω∫œÇ #œÉŒ∫œåœÑŒøœÇ ·ºêœÉœÑŒØŒΩ.",
            "·Ωâ ŒòŒ∑œÉŒµ·Ω∫œÇ œÑŒø·øñœÇ ·ºëœÑŒ±ŒØœÅŒøŒπœÇ ·º°#Œ≥Œµ·øñœÑŒ±Œπ , ·ºêŒΩ Œº·Ω≤ŒΩ œÑ·øá #Œ¥ŒµŒæŒπ·æ∑ ·ºîœáŒµŒπ œÑ·Ω∏ ŒæŒØœÜŒøœÇ, ·ºêŒΩ Œ¥·Ω≤ œÑ·øá #·ºÄœÅŒπœÉœÑŒµœÅ·æ∑ œÑ·Ω∏ ŒªŒØŒΩŒøŒΩ.",
            "ŒúŒ±Œ∫œÅ·Ω∞ŒΩ ·ΩÅŒ¥·Ω∏ŒΩ œÄ#ŒøœÅŒµœçŒøŒΩœÑŒ±Œπ , ·ºÄŒªŒª'·ºêŒæŒ±ŒØœÜŒΩŒ∑œÇ Œ≤#œÅœÖœá·æ∂œÑŒ±Œπ œÑ·Ω∏ œÄŒΩŒµ·ø¶ŒºŒ± œÑ·Ω∏ œÑŒø·ø¶ ŒúŒπŒΩœâœÑŒ±œçœÅŒøœÖ Œ∫Œ±·Ω∂ œÑ·Ω∏ŒΩ œàœåœÜŒøŒΩ œÑ·Ω∏ŒΩ œÑ·ø∂ŒΩ #œÄŒøŒ¥·ø∂ŒΩ Œ±·ΩêœÑŒø·ø¶ ·ºÄŒ∫ŒøœçŒøœÖœÉŒπŒΩ.",
            "Œü·º± Œø·ΩñŒΩ ·ºëœÑŒ±·øñœÅŒøŒπ #œÑœÅŒ≠œÄŒøŒΩœÑŒ±Œπ (=·ºÄŒΩŒ±œÉœÑœÅŒ≠œÜŒøœÖœÉŒπŒΩ), Œ∫Œ±·Ω∂ Œ±·ΩêœÑ·Ω∏ŒΩ ·ΩÅœÅ·ø∂œÉŒπŒΩ.",
            "Œ§·Ω∏ Œº·Ω≤ŒΩ Œ∏Œ∑œÅŒØŒøŒΩ #Œ≤œÅœÖœá·æ∂œÑŒ±Œπ¬∑ \"Œº·ø¶, Œº·ø¶.\" Œü·º± Œø·ΩñŒΩ ·ºëœÑŒ±·øñœÅŒøŒπ ·ºÄŒ∫ŒøœçŒøœÖœÉŒπŒΩ Œ±·ΩêœÑŒø·ø¶, Œ∫Œ±·Ω∂ #Œ¥ŒµŒπŒΩ·ø∂œÇ (=ŒºŒ¨ŒªŒπœÉœÑŒ±) œÜŒøŒ≤Œø·ø¶ŒΩœÑŒ±Œπ.",
            "·Ωâ ŒòŒ∑œÉŒµ·Ω∫œÇ ·ΩÅœÅŒº·æ∂œÑŒ±Œπ ·ºêœÄ·Ω∂ œÑ·Ω∏ Œ∏Œ∑œÅŒØŒøŒΩ¬∑ œÑ·øÜœÇ #Œ∫ŒµœÜŒ±Œª·øÜœÇ Œ±·ΩêœÑŒø·ø¶ ŒªŒ±ŒºŒ≤Œ¨ŒΩŒµœÑŒ±Œπ", 
            "·ºîœÄŒµŒπœÑŒ± Œ¥·Ω≤ œÑ·Ω∏ #œÉœÑ·øÜŒ∏ŒøœÇ œÑœçœÄœÑŒµŒπ Œ∫Œ±·Ω∂ œÑ·Ω∏ Œ∏Œ∑œÅŒØŒøŒΩ ·ºÄœÄŒø#Œ∫œÑŒµŒØŒΩŒµŒπ .",
            "Œ§·Ω∏ Œ¥·Ω≤ Œ¥ŒµŒπŒΩ·ø∂œÇ #Œ∫ŒªŒ¨Œ∂ŒµŒπ (=Œ≤Œø·æ∑), Œ∫Œ±·Ω∂ œÄœÅ·Ω∏œÇ œÑ·Ω¥ŒΩ Œ≥·øÜŒΩ Œ∫Œ±œÑŒ±œÄŒØœÄœÑŒµŒπ.",
            "Œü·º± ·ºëœÑŒ±·øñœÅŒøŒπ œÑ·Ω∏ŒΩ ŒòŒ∑œÉŒ≠·æ± ŒºŒ¨ŒªŒπœÉœÑŒ± #œÑŒπŒº·ø∂œÉŒπŒΩ .",
            "·ºòŒΩ œÑŒ±·øñœÇ œÄœçŒªŒ±ŒπœÇ #ŒºŒøœáŒªœåœÇ ·ºêœÉœÑŒπŒΩ.",
            "Œü·º± ·ºëœÑŒ±·øñœÅŒøŒπ œÑ·Ω∏ŒΩ ŒºŒøœáŒª·Ω∏ŒΩ #Œ¥ŒπŒ±Œ∫œåœÄœÑŒøœÖœÉŒπŒΩ .",
            "Œü·ΩïœÑœâœÇ ·º° ŒúœÖœÅœÅŒØŒΩŒ∑ #œÄŒµœÅŒ±ŒØŒΩŒµŒπ œÑ·Ω∏ŒΩ Œº·ø¶Œ∏ŒøŒΩ."
        ];
       var locu_set; //placeholder for one set of sentences from locutionis
      var flag = 1; //turn this off after first round of sencences draw
      words2guess = []; //keep track of words in a sentence with #pound sign
      var splitted_locutionis = splitUp(locutionis , 5); //divides locutionis in 5 sets
      locu_set = splitted_locutionis[0]; //get first set 
      var counter = splitted_locutionis.length; //length of array
      var attempts = 0; //keeps track of attempts then reveals answer if > 3
      var score = 0; //keeps trak of good/bad guesses
      document.getElementById("more_to_go").innerHTML =
        "Œ¶œÅŒ¨œÉŒµŒπœÇ: " + romanize(counter);
      
      function romanize(num) {
        //romanize numbers for the countdown
        var lookup = {X:10 ,IX:9 ,V:5 ,IV:4 ,I:1} ,roman = '' ,i;
        for ( i in lookup ) {
          while ( num >= lookup[i] ) {
            roman += i;
            num -= lookup[i];
          }
        }
        return roman.toLowerCase();
      }

      function macronRadial(id){
            //uncheck all other buttons              
        for (let i = 5; i < 7; i++) {
          const currentId = document.getElementById(String(i)).id;
          if (currentId !== id) {
            document.getElementById(currentId).checked = false;
          }
        }
      }
function abstrahoMacron(word) {
  // Comprehensive mapping of Greek characters with breathing marks to their base forms
  const breathingMap = {
    // Alpha combinations 
    '·ºÄ': 'Œ±', '·ºÅ': 'Œ±', '·ºÇ': 'Œ±', '·ºÉ': 'Œ±', '·ºÑ': 'Œ±', '·ºÖ': 'Œ±', '·ºÜ': 'Œ±', '·ºá': 'Œ±', '·Ω∞': 'Œ±', 'Œ¨': 'Œ±',
    '·ºà': 'Œë', '·ºâ': 'Œë', '·ºä': 'Œë', '·ºã': 'Œë', '·ºå': 'Œë', '·ºç': 'Œë', '·ºé': 'Œë', '·ºè': 'Œë',
    // Epsilon combinations
    '·ºê': 'Œµ', '·ºë': 'Œµ', '·ºí': 'Œµ', '·ºì': 'Œµ', '·ºî': 'Œµ', '·ºï': 'Œµ', 'Œ≠': 'Œµ',
    '·ºò': 'Œï', '·ºô': 'Œï', '·ºö': 'Œï', '·ºõ': 'Œï', '·ºú': 'Œï', '·ºù': 'Œï',
    // Eta combinations
    '·º†': 'Œ∑', '·º°': 'Œ∑', '·º¢': 'Œ∑', '·º£': 'Œ∑', '·º§': 'Œ∑', '·º•': 'Œ∑', '·º¶': 'Œ∑', '·ºß': 'Œ∑', 'ŒÆ': 'Œ∑',
    '·º®': 'Œó', '·º©': 'Œó', '·º™': 'Œó', '·º´': 'Œó', '·º¨': 'Œó', '·º≠': 'Œó', '·ºÆ': 'Œó', '·ºØ': 'Œó',
    // Iota combinations
    '·º∞': 'Œπ', '·º±': 'Œπ', '·º≤': 'Œπ', '·º≥': 'Œπ', '·º¥': 'Œπ', '·ºµ': 'Œπ', '·º∂': 'Œπ', '·º∑': 'Œπ', 'ŒØ': 'Œπ',
    '·º∏': 'Œô', '·ºπ': 'Œô', '·º∫': 'Œô', '·ºª': 'Œô', '·ºº': 'Œô', '·ºΩ': 'Œô', '·ºæ': 'Œô', '·ºø': 'Œô',
    // Omicron combinations
    '·ΩÄ': 'Œø', '·ΩÅ': 'Œø', '·ΩÇ': 'Œø', '·ΩÉ': 'Œø', '·ΩÑ': 'Œø', '·ΩÖ': 'Œø', '·Ωπ': 'o',
    '·Ωà': 'Œü', '·Ωâ': 'Œü', '·Ωä': 'Œü', '·Ωã': 'Œü', '·Ωå': 'Œü', '·Ωç': 'Œü', 'Œå': 'O',
    // Upsilon combinations
    '·Ωê': 'œÖ', '·Ωë': 'œÖ', '·Ωí': 'œÖ', '·Ωì': 'œÖ', '·Ωî': 'œÖ', '·Ωï': 'œÖ', '·Ωñ': 'œÖ', '·Ωó': 'œÖ', 'œç': 'œÖ',
    '·Ωô': 'Œ•', '·Ωõ': 'Œ•', '·Ωù': 'Œ•', '·Ωü': 'Œ•',
    // Omega combinations
    '·Ω†': 'œâ', '·Ω°': 'œâ', '·Ω¢': 'œâ', '·Ω£': 'œâ', '·Ω§': 'œâ', '·Ω•': 'œâ', '·Ω¶': 'œâ', '·Ωß': 'œâ', 'œé': 'œâ', '·ø∑': 'œâ', '·ø≥': 'œâ',
    '·Ω®': 'Œ©', '·Ω©': 'Œ©', '·Ω™': 'Œ©', '·Ω´': 'Œ©', '·Ω¨': 'Œ©', '·Ω≠': 'Œ©', '·ΩÆ': 'Œ©', '·ΩØ': 'Œ©',
    //random
    '·æ∂': 'Œ±', '·øÜ': 'Œ∑', '·øñ': 'Œπ', '·ø¶': 'œÖ', '·ø∂': 'œâ'
  };

  // Convert the word character by character
  return [...word].map(char => breathingMap[char] || char).join('');
}

      

      function commutoCapitulum(id){
           //change set of phrases according to what radial button is pressed
          document.getElementById("score").style.fontSize = "large";
          attempts = 0;
          score = 0;
          document.getElementById("response").innerHTML = "";
          words2guess = [];
          var splitted_locutionis = splitUp(locutionis , 5); //split up locutionis in 5 sets
          locu_set = splitted_locutionis[id.id]; //get set based on ID of radial pressed
          counter = locu_set.length; //length of array 
          document.getElementById("guess_field").style.visibility = "visible"; 
          document.getElementById("more_to_go").focus();
          document.getElementById("more_to_go").innerHTML = "ŒõœåŒ≥ŒøŒπ: " + romanize(counter);
          document.getElementById("score").innerHTML = '0';
          document.getElementById("score").style.visibility = 'visible';
          document.getElementById("final_score").style.visibility = "hidden";

          for(i=0; i<5; i++){
              //uncheck all other buttons
              if(document.getElementById(String(i)).id !== id.id){
                document.getElementById(String(i)).checked = false;
                }
          }
          document.getElementById("locutio").innerHTML = firstPop(locu_set); //pop last sentenced and show         
      }

      function splitUp(arr , n) {
          //function that splits up main array
        var rest = arr.length % n , // how much to divide
            restUsed = rest , // to keep track of the division over the elements
            partLength = Math.floor(arr.length / n) ,
            result = [];

        for(var i = 0; i < arr.length; i += partLength) {
            var end = partLength + i ,
                add = false;

            if(rest !== 0 && restUsed) { // should add one element for the division
                end++;
                restUsed--; // I've used one division element now
                add = true;
            }
            result.push(arr.slice(i , end)); // part of the array
            if(add) {
                i++; // also increment i in the case we added an extra element for division
            }
        }
        return result;
    }

      // pop sentence for the first time
      if(flag==1){
          counter = locu_set.length;
          document.getElementById("more_to_go").innerHTML = "ŒõœåŒ≥ŒøŒπ: " + romanize(counter);          
          firstPop(locu_set); // do it once to get first questions
          flag = 0
      }
      
      function firstPop(locu_set) {     
        // pop sentence for the first time
        if (locu_set.length > 0) {
          var first_sentence = blankWord(locu_set.shift()); //call function that x's words starting with # sign
          document.getElementById("locutio").innerHTML = first_sentence;
        } else {
          console.log("out of words");
        }return(first_sentence)
      }

      
function blankWord(sentence) {
    let x = sentence.split(" ");
    words2guess = []; // Reset before populating
    for (i = 0; i < x.length; i++) {
        if (x[i].includes("#")) {
            if (x[i].startsWith("#")) {      
                word2guess = x[i].slice(1);
                words2guess.push(word2guess);
                x[i] = "_".repeat(x[i].length - 1);
            } else {
                let inx = x[i].indexOf('#');
                word2guess = x[i].slice(inx + 1);
                words2guess.push(word2guess);
                let foo1 = x[i].substr(0, inx);
                let foo2 = x[i].substr(inx);
                let fooX = "_".repeat(foo2.length - 1);
                x[i] = foo1 + fooX;
            }
        }
    }
    console.log("Words to guess:", words2guess); // Debug
    return x.join(" ");
}

function replaceWord(word_entered) {
    let inner = document.getElementById("locutio").innerHTML;
    let xsx = /(_)\1*/;
    let arr = inner.match(xsx)[0];
    console.log("Replacing:", arr, "with:", word_entered); // Debug
    inner = inner.replace(arr, word_entered.fontcolor("green").toLowerCase());
    document.getElementById("locutio").innerHTML = inner;
}


      function getIncite(){
            //returns random incouraging sentence
incites = [
    'Œµ·Ωñ Œ≥Œµ!',               // Well done! (common expression of praise)
    'Œ∫Œ±Œª·ø∂œÇ ·ºêœÄŒøŒØŒ∑œÉŒ±œÇ!',      // You did well!
    'Œ∫Œ±Œª·ø∂œÇ œÄŒøŒΩŒµ·øñœÇ!',        // You work well!
    '·ºÑœÅŒπœÉœÑŒ¨ Œ≥Œµ!',           // Excellent!
    'Œµ·Ωñ ŒºŒ¨ŒªŒ±!',             // Very good!
    '·ºêœÄŒ±ŒπŒΩŒµœÑœåŒΩ!',           // Praiseworthy!
    'Œµ·ΩñŒ≥Œµ œÑ·øÜœÇ ·ºÄœÅŒµœÑ·øÜœÇ!',     // Bravo for your excellence! (genitive of exclamation)
    '·ºÄŒ≥Œ±Œ∏œåœÇ Œ≥·æΩŒµ·º∂!',         // You are good indeed!
    'Œ∫Œ±Œª·ø∂œÇ œÄŒøŒπŒµ·øñœÇ!',        // You do well!
    'ŒªŒ±ŒºœÄœÅ·ø∂œÇ Œ≥Œµ!',          // Splendidly indeed!
    'œÄœÅœåŒ≤Œ±ŒπŒΩŒµ!',            // Go on!
    'œáœéœÅŒµŒπ!',               // Proceed!
    'œÄœÅœåœäŒ∏Œπ!',              // Go forward!
    'Œ≤Œ±·øñŒΩŒµ!',               // Go on!
    'Œ∫Œ¨ŒªŒªŒπœÉœÑŒ±!',            // Excellent!
    'Œµ·Ωñ ŒºŒ¨ŒªŒ±!',             // Very well!
    'Œ∏Œ±œÖŒºŒ±œÉœÑœåŒΩ!',           // Wonderful!
    'Œµ·ΩêœÑœÖœá·ø∂œÇ!',             // Fortunately!/Well done!
    '·ΩÄœÅŒ∏·ø∂œÇ!',               // Correctly!
    '·ºÄŒªŒ∑Œ∏·øÜ ŒªŒ≠Œ≥ŒµŒπœÇ!',        // You speak truly!
    'Œ¥ŒπŒ∫Œ±ŒØœâœÇ!',             // Justly!
    'Œµ·º∞Œ∫œåœÑœâœÇ!'              // Reasonably!/Naturally!
]
          return incites[Math.floor(Math.random() * incites.length)];
      }
      function getSmiley(){
          smileys = [' üòç' , ' üòÖ' , ' üòé' , ' üòà' , ' üòÇ' , ' üòÉ' , ' üòÜ' , ' üòè'];
          return smileys[Math.floor(Math.random() * smileys.length)];
      }

      function blink() {
         var f = document.getElementById('response');
         setTimeout(function() {
            f.style.display = (f.style.display == 'none' ? '' : 'none');
         } , 200);
         setTimeout(function() {
            f.style.display = (f.style.display == 'none' ? '' : 'none');
         } , 300);
         document.getElementById("guess_field").style.color = "red";
         document.getElementById("guess_field").style.textDecoration = "line-through";
      }
// =======================KEYDOWN FUNCTION========================================
// ======================|            |========================================

function matchFunc(event) {
    var x = event.keyCode;
if (document.getElementById('6').checked) {
    console.log('Original target:', words2guess[0]);
    console.log('Demacronized target:', abstrahoMacron(words2guess[0]));
    console.log('User input:', word_entered);
}
    if (x == 13) { // Enter key
      console.log("Before shift - words2guess:", words2guess); // Debug
        var word_entered = document.getElementById("guess_field").value.trim();
      console.log("Raw input value:", document.getElementById("guess_field").value);
        let targetWord = words2guess[0]; // Current word to guess

        // Check if "No breathing marks" is selected
        const removeBreathingMarks = document.getElementById('6').checked;
        if (removeBreathingMarks) {
            // Normalize both the user input and the target word
            word_entered = abstrahoMacron(word_entered);
            targetWord = abstrahoMacron(targetWord);
        }

        // Compare normalized inputs
        if (word_entered.toLowerCase() === targetWord.toLowerCase() && words2guess.length > 0) {
            replaceWord(word_entered);
            document.getElementById("response").innerHTML = getIncite() + getSmiley();
            document.getElementById("score").innerHTML = score += 1;
            document.getElementById("guess_field").value = ""; // Clear input field
            attempts = 0;

            setTimeout(clearFields, 1500);

            if (words2guess.length > 1) {
                words2guess.shift(); // Move to next word
              console.log("After shift - words2guess:", words2guess); // Debug
                return;
            } else {
                // Handle end of game logic
                words2guess = [];
                try {
                    if (locu_set == 0) throw new Exception();
                    counter--;
                    document.getElementById("more_to_go").innerHTML = "ŒõœåŒ≥ŒøŒπ: " + romanize(counter);
                    setTimeout(() => {
                        document.getElementById("locutio").innerHTML = blankWord(locu_set.shift());
                    }, 1000);
                } catch (err) {
                    document.getElementById("locutio").innerHTML = "Œ†Œ≠œÄœÅŒ±Œ∫œÑŒ±Œπ! ·ºåŒªŒªŒ∑ŒΩ ·ºÑœÉŒ∫Œ∑œÉŒπŒΩ œÄŒµŒπœÅ·ø∂";
                    document.getElementById("more_to_go").innerHTML = "";
                    document.getElementById("response").innerHTML = "";
                    document.getElementById("guess_field").style.visibility = "hidden";
                    document.getElementById("score").style.visibility = "hidden";
                    document.getElementById("final_score").innerHTML = score;
                    document.getElementById("final_score").style.visibility = "visible";
                }
            }
        } else if (word_entered === "" && counter > 0) {
            document.getElementById("response").innerHTML = "ŒìœÅŒ¨œÜŒµ œÑ·Ω¥ŒΩ ·ºÄœÄœåŒ∫œÅŒπœÉŒπŒΩ ·ºêŒΩœÑŒ±·ø¶Œ∏Œ± ‚¨â";
            document.getElementById("guess_field").value = "";
        } else if (word_entered.toLowerCase() !== targetWord.toLowerCase() && counter > 0) {
            attempts += 1;
            document.getElementById("response").innerHTML = "üò± Œü·ΩêŒ¥Œ±Œº·ø∂œÇ! Œë·ΩñŒ∏ŒπœÇ œÄŒµŒπœÅ·ø∂";
            blink();
            document.getElementById("score").innerHTML = score -= 1;
            setTimeout(clearFields, 1000);

            if (attempts == 3) {
                document.getElementById("correct_answer").innerHTML = "·ºàœÄœåŒ∫œÅŒπœÉŒπœÇ: " + targetWord;
                attempts = 0;
            }
        }
    }
}



      function clearFields() {
        // delay function to trigger at the end of exercise
        document.getElementById("response").innerHTML = ""; 
        document.getElementById("guess_field").value = "";
        document.getElementById('correct_answer').innerHTML = "";
        document.getElementById("guess_field").style.textDecoration = "none";
        document.getElementById("guess_field").style.color = "black";
      }           
    </script>
    <!--===========SCRIPT ENDS=========================-->


    </body>

</html>
